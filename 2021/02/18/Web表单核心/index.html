<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Web表单 | Apin | blogs</title>

  
  <meta name="author" content="a-pin">
  

  
  <meta name="description" content="This is a blog website in order to record my study experiences!">
  

  
  <meta name="keywords" content="blog,a-pin">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Web表单"/>

  <meta property="og:site_name" content="Apin"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Apin" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  
  <link href="https://fonts.lug.ustc.edu.cn/css?family=Lato|Rubik" rel="stylesheet">
  <script src="/js/pangu-407.min.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    pangu.autoSpacingPage();
  });
</script>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Apin</a>
    </h1>
    <p class="site-description">blogs</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/categories">分类</a></li>
      
        <li><a href="/tags">标签</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Web表单</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2021/02/18/Web表单核心/" rel="bookmark">
        <time class="entry-date published" datetime="2021-02-17T18:00:07.000Z">
          2021-02-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        

<script type="text/javascript">
    function convertRemToPixels(rem) {    
        return rem * parseFloat(getComputedStyle(document.documentElement).fontSize);
    }
    window.onscroll = function() {
        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        if (scrollTop > convertRemToPixels(40)) {
            document.getElementsByClassName('toc-article')[0].style.visibility = 'visible';
        } else {
            document.getElementsByClassName('toc-article')[0].style.visibility = 'hidden';
        }
    }

</script>


<div id="toc" class="toc-article" style="overflow-y: auto; max-height: 80%;">
      <div class="toc-content">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HTML%E8%A1%A8%E5%8D%95%E7%AE%80%E4%BB%8B"><span class="toc-text">HTML表单简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%E5%8D%95"><span class="toc-text">什么是表单</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0"><span class="toc-text">表单元素</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-form-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;form&gt;元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-input-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;input&gt;元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-button-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;button&gt;元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-textarea-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;textarea&gt;元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-label-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;label&gt;元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lt-fieldset-gt-%E5%92%8C-lt-legend-gt-%E5%85%83%E7%B4%A0"><span class="toc-text">&lt;fieldset&gt;和&lt;legend&gt;元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTML-%E8%A1%A8%E5%8D%95%E5%AE%9E%E4%BE%8B"><span class="toc-text">HTML 表单实例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E9%83%A8%E4%BB%B6"><span class="toc-text">表单部件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E5%B1%9E%E6%80%A7"><span class="toc-text">通用属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%A1%A8%E5%8D%95%E9%83%A8%E4%BB%B6"><span class="toc-text">常用表单部件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86"><span class="toc-text">文本输入框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E6%8B%89%E5%86%85%E5%AE%B9"><span class="toc-text">下拉内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%A1%86"><span class="toc-text">选择框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E8%BE%93%E5%85%A5%E6%A1%86"><span class="toc-text">自动补全输入框</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E4%B8%AD%E9%A1%B9"><span class="toc-text">可选中项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E9%80%89%E6%A1%86"><span class="toc-text">复选框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E9%80%89%E6%A1%86"><span class="toc-text">单选框</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%92%AE"><span class="toc-text">按钮</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%A1%A8%E5%8D%95%E9%83%A8%E4%BB%B6"><span class="toc-text">高级表单部件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97"><span class="toc-text">数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BB%91%E5%9D%97"><span class="toc-text">滑块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-text">日期时间选择器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%BE%E8%89%B2%E5%99%A8"><span class="toc-text">拾色器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%83%A8%E4%BB%B6"><span class="toc-text">其他部件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-text">文件选择器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E5%86%85%E5%AE%B9"><span class="toc-text">隐藏内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E6%8C%89%E9%92%AE"><span class="toc-text">图像按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%AA%E8%A1%A8%E5%92%8C%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-text">仪表和进度条</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="toc-text">表单数据校验</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">发送表单数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">原理介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-x2F-%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">客户端&#x2F;服务器体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%9A%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE"><span class="toc-text">客户端：发送数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-text">请求方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%EF%BC%9A%E6%A3%80%E7%B4%A2%E6%95%B0%E6%8D%AE"><span class="toc-text">服务器端：检索数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B-PHP"><span class="toc-text">原始 PHP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python"><span class="toc-text">Python</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E5%92%8C%E6%A1%86%E6%9E%B6"><span class="toc-text">其他语言和框架</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%A1%88%E4%BE%8B-%E5%8F%91%E9%80%81%E6%96%87%E4%BB%B6"><span class="toc-text">特殊案例:发送文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#enctype-%E5%B1%9E%E6%80%A7"><span class="toc-text">enctype 属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-text">常见的安全问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XSS-%E5%92%8C-CSRF"><span class="toc-text">XSS 和 CSRF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5"><span class="toc-text">SQL注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%8F%E6%89%A7-%E6%B0%B8%E8%BF%9C%E4%B8%8D%E8%A6%81%E7%9B%B8%E4%BF%A1%E4%BD%A0%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-text">偏执:永远不要相信你的用户</span></a></li></ol></li></ol></li></ol>
      </div>
</div>
<style>
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>



        <p>在此特地声明本文是根据 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/html/Introduction_to_html">mozilla官方教学文档</a> 学习的个人学习笔记，借用了大量的图片和文本内容，存在相当多的相同，但不是copy。如需查看mozilla官方文档，请点击前文链接！！</p>
<!--more-->

<br>

<h1 id="HTML表单简介"><a href="#HTML表单简介" class="headerlink" title="HTML表单简介"></a>HTML表单简介</h1><p>HTML 表单的灵活性使它们成为 HTML 中最复杂的结构之一；你可以使用专用的表单元素和属性构建任何类型的基本表单。在构建 HTML 表单时使用正确的结构将有助于确保表单可用性和可访问性。</p>
<br>

<h2 id="什么是表单"><a href="#什么是表单" class="headerlink" title="什么是表单"></a>什么是表单</h2><p>HTML 表单是用户和 web 站点或应用程序之间交互的主要内容之一。Web 表单收集用户的数据并发送到 web 站点。大多数情况下，数据被发送到 web 服务器，不过 web 页面也可以自己拦截它并使用它。</p>
<br>

<h2 id="表单元素"><a href="#表单元素" class="headerlink" title="表单元素"></a>表单元素</h2><p>表单元素是允许用户在表单中输入信息的元素（文本字段、选择框、按钮、复选框或单选框），其最主要的作用就是收集信息。</p>
<p>这些元素可以认为是表单中的部件。大多数情况下，这些小部件和描述其目的的标签配对。</p>
<br>

<h3 id="lt-form-gt-元素"><a href="#lt-form-gt-元素" class="headerlink" title="&lt;form&gt;元素"></a><code>&lt;form&gt;</code>元素</h3><p><code>&lt;form&gt;</code> 元素按照一定的格式定义了表单和确定表单行为的属性。许多辅助技术或浏览器插件可以发现 <code>&lt;form&gt;</code> 元素并实现特殊的钩子，使它们更易于使用。</p>
<p>form 元素是一个容器元素，它正式定义了一个表单，所有 HTML 表单都必须以一个 <code>&lt;form&gt;</code> 元素开始。它支持一些特定的属性来配置表单的行为方式：</p>
<ul>
<li>action 属性定义了在提交表单时，应该把所收集的数据送给谁去处理</li>
<li>method 属性定义了发送数据的HTTP方法（get 或 post）</li>
</ul>
<p>这两个属性对 form 元素相当重要，你至少要设置这两个属性。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/my-handling-form-page&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：严格禁止在一个表单内嵌套另一个表单。嵌套会使表单的行为不可预知，而这取决于正在使用的浏览器。</p>
</blockquote>
<p>请注意，你可以在 <code>&lt;form&gt;</code> 元素之外使用表单小部件，不过这些表单小部件与任何表单都没有关系。它们自己什么也不做，你需要使用 JavaScript 定制它们的行为。</p>
<br>

<h3 id="lt-input-gt-元素"><a href="#lt-input-gt-元素" class="headerlink" title="&lt;input&gt;元素"></a><code>&lt;input&gt;</code>元素</h3><p><code>&lt;input&gt;</code> 元素用于为基于 Web 的表单创建交互式控件，以便接受来自用户的数据，可以使用各种类型的输入数据和控件小部件。</p>
<p>在 <code>&lt;input&gt;</code> 元素中，最重要的属性是 type 属性，它可以从根本上改变元素，定义了 <code>&lt;input&gt;</code> 属性的行为方式。</p>
<p>以下是常见的 type 属性值：</p>
<ul>
<li><strong>text</strong>：默认值。单行的文本区域，输入中的换行会被自动去除</li>
<li><strong>checkbox</strong>：复选框，可以设置选中或未选中</li>
<li><strong>submit</strong>：用于提交表单的按钮</li>
<li><strong>button</strong>：没有默认行为的按钮，上面显示 value 属性的值，默认为空</li>
<li><strong>password</strong>：单行文本区域，其值会被遮盖</li>
</ul>
<br>

<h3 id="lt-button-gt-元素"><a href="#lt-button-gt-元素" class="headerlink" title="&lt;button&gt;元素"></a><code>&lt;button&gt;</code>元素</h3><p><code>&lt;button&gt;</code> 元素可以为表单添加一个按钮。例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Send your message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;button&gt;</code> 元素接受一个 type 属性（submit，reset 或 button）：</p>
<ul>
<li>单击 type 属性定义为 submit 值（默认值）的按钮会发送表单的数据到 <code>&lt;form&gt;</code> 元素的 action 属性所定义的网页</li>
<li>单击 type 属性定义为 reset 值的按钮将所有表单小部件重新设置为它们的默认值</li>
<li>单击 type 属性定义为 button 值的按钮不会发生任何事！这听起来很傻，但是用 JavaScript 构建定制按钮非常有用</li>
</ul>
<blockquote>
<p>注：您还可以使用相应类型的 <code>&lt;input&gt;</code> 元素来生成一个按钮，如 <code>&lt;input type=&quot;submit&quot;&gt;</code>。<code>&lt;button&gt;</code> 元素的主要优点是 <code>&lt;input&gt;</code> 元素只允许纯文本作为其标签，而 <code>&lt;button&gt;</code> 元素允许完整的 HTML 内容，允许更复杂、更有创意的按钮文本。</p>
</blockquote>
<br>

<h3 id="lt-textarea-gt-元素"><a href="#lt-textarea-gt-元素" class="headerlink" title="&lt;textarea&gt;元素"></a><code>&lt;textarea&gt;</code>元素</h3><p><code>&lt;textarea&gt;</code> 标签定义了多行的文本输入控件，可容纳无限数量的文本（默认等宽字体）。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>你可以通过 cols 和 rows 属性来规定 textarea 的尺寸，不过更好的办法是使用 CSS 的 height 和 width 属性；你可以通过 <code>&lt;textarea&gt;</code> 标签的 wrap 属性设置文本输入区内的换行模式。</p>
<p>注意，<code>&lt;input&gt;</code> 标签是一个空元素，它不需要关闭标签。相反，<code>&lt;textarea&gt;</code> 不是一个空元素，你必须使用关闭标签（<code>&lt;/textarea&gt;</code>）来关闭它。这对 HTML 表单小部件的特性有影响，例如定义默认值的方式。</p>
<ul>
<li><p>要定义 <code>&lt;input&gt;</code> 的默认值，你需要使用 value 属性，如下所示：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;by default this element is filled with this text&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>要定义 <code>&lt;textarea&gt;</code> 的默认值，你需要在 <code>&lt;textarea&gt;</code> 元素的开始和结束标记之间放置默认值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span>by default this element is filled with this text<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<h3 id="lt-label-gt-元素"><a href="#lt-label-gt-元素" class="headerlink" title="&lt;label&gt;元素"></a><code>&lt;label&gt;</code>元素</h3><p><code>&lt;label&gt;</code> 元素是为 HTML 表单小部件定义标签的正式方法。如果你想构建可访问的表单，这是最重要的元素。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user_name&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;label&gt;</code> 标签与 <code>&lt;input&gt;</code> 通过他们各自的 for 属性和 id 属性正确相关联。</p>
<br>

<p><strong>点击标签以激活部件!</strong></p>
<p>标签是可以点击的，正确设置标签的另一个好处是可以在所有浏览器中单击标签来激活相应的小部件。</p>
<ul>
<li>对于像文本输入这样的例子很有用，你可以通过点击标签或点击输入区来聚焦于输入</li>
<li>对于单选框和复选框尤其有用，这种控件的可点击区域可能非常小，设置标签可以使它们可点击区域变大</li>
</ul>
<p>举个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;taste_1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;taste_cherry&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;taste_1&quot;</span>&gt;</span>I like cherry<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;taste_2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;taste_banana&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;taste_2&quot;</span>&gt;</span>I like banana<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果如图：</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/3.png"></p>
<br>

<p><strong>多个标签</strong></p>
<p>严格地说，你可以在一个小部件上放置多个标签，但是这不是一个好主意，因为一些辅助技术可能难以处理它们。在多个标签的情况下，你应该将一个小部件和它的标签嵌套在一个 <code>&lt;label&gt;</code> 元素中。</p>
<p>让我们考虑下面这个例子：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Required fields are followed by <span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--这样写：--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--但是这样写会更好：--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--但最好的可能是这样：--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>顶部的段落内容定义了所需元素的规则（即星号在文本框之前）。它必须在开始时确保像屏幕阅读器这样的辅助技术在用户找到必需的元素之前显示或念出它们。这样，他们就知道星号表达的是什么意思了。</p>
<ul>
<li>在第一个例子中，标签根本没有和 input 一起被念出来——读出来的只是 “edit the blank”，和单独被念出的标签。多个 <code>&lt;label&gt;</code> 元素会使屏幕阅读器迷惑。</li>
<li>在第二个例子中，事情变得清晰一点了——标签和输入一起，读出的是 “name star name edit text”，但标签仍然是单独读出的。这还是有点令人困惑，但这次还是稍微好一点了，因为 input 和 label 联系起来了。</li>
<li>第三个例子是最好的——标签是一起读出的，标签和输入读出的是 “name star edit text”。</li>
</ul>
<blockquote>
<p>注：你可能会得到一些不同的结果，这取决于你的屏幕阅读器。</p>
</blockquote>
<br>

<h3 id="lt-fieldset-gt-和-lt-legend-gt-元素"><a href="#lt-fieldset-gt-和-lt-legend-gt-元素" class="headerlink" title="&lt;fieldset&gt;和&lt;legend&gt;元素"></a><code>&lt;fieldset&gt;</code>和<code>&lt;legend&gt;</code>元素</h3><p><code>&lt;fieldset&gt;</code> 元素是一种方便的用于创建具有相同目的的小部件组的方式。出于样式和语义目的，你可以在 <code>&lt;fieldset&gt;</code> 开口标签后加上一个 <code>&lt;legend&gt;</code> 元素来给 <code>&lt;fieldset&gt;</code> 标上标签。</p>
<p>许多辅助技术将 <code>&lt;legend&gt;</code> 元素作为 <code>&lt;fieldset&gt;</code> 元素里相应部件的标签的一部分使用。</p>
<p>例如，在说出每个小部件的标签之前，像 Jaws 或 NVDA 这样的屏幕阅读器会朗读出 legend 的内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>Fruit juice size<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;size&quot;</span> <span class="attr">id</span>=<span class="string">&quot;size_1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;small&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;size_1&quot;</span>&gt;</span>Small<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;size&quot;</span> <span class="attr">id</span>=<span class="string">&quot;size_2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;medium&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;size_2&quot;</span>&gt;</span>Medium<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;size&quot;</span> <span class="attr">id</span>=<span class="string">&quot;size_3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;large&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;size_3&quot;</span>&gt;</span>Large<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当阅读上述表格时，屏幕阅读器将会读第一个小部件 “Fruit juice size small”，“Fruit juice size medium” 为第二个，“Fruit juice size large” 为第三个。因为它对辅助技术的影响，<code>&lt;fieldset&gt;</code> 元素是构建可访问表单的关键元素之一。如果可能，每次构建表单时，尝试侦听屏幕阅读器如何解释表单。如果听起来很奇怪，你可以试着改进表单结构。</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/1.png"></p>
<p>一般来说，<code>&lt;fieldset&gt;</code> 元素也可以用来对表单进行分段。理想情况下，长表单应该被拆分为多个页面；但是如果表单很长，且必须在单个页面上，那么你可以将表单以不同的关联关系进行分段，分别放在不同的 fieldset 里，提高可用性。</p>
<br>

<h2 id="HTML-表单实例"><a href="#HTML-表单实例" class="headerlink" title="HTML 表单实例"></a>HTML 表单实例</h2><p>本文为你提供第一次创建 HTML 表单的经验，包括设计表单、使用正确的 HTML 元素实现、通过 CSS 添加一些非常简单的样式以及将数据发送到服务器。</p>
<br>

<p>第一步，设计表单。</p>
<p>为了实现一个表单，你首先就需要设计一个合适的表单。你应该只询问必要的用户数据，保持简单，保持专注。这不仅是编写代码的问题，更涉及了表单的用户体验。</p>
<p>我们的表单将包含三个文本字段和一个按钮。我们向用户询问他们的姓名、电子邮件和他们想要发送的信息，点击按钮将数据发送到一个 web 服务器。</p>
<p>第二步，在 <code>&lt;body&gt;</code> 元素中添加 <code>&lt;form&gt;</code> 元素，所有HTML表单都以一个 <code>&lt;form&gt;</code> 元素开始：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/my-handling-form-page&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>第三步，添加 <code>&lt;label&gt;</code>，<code>&lt;input&gt;</code> 和 <code>&lt;textarea&gt;</code> 元素。</p>
<p>我们的联系人表单包含三个文本字段，每个字段都有一个标签。</p>
<ul>
<li>名称的输入字段将是一个基本的单行文本字段</li>
<li>电子邮件的输入字段将是一个只接受电子邮件地址的单行文本字段</li>
<li>消息的输入字段将是一个基本的多行文本字段。</li>
</ul>
<p>HTML代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/my-handling-form-page&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;mail&quot;</span>&gt;</span>E-mail:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mail&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;msg&quot;</span>&gt;</span>Message:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>&lt;div&gt;</code> 元素可以使我们更加方便地构造我们自己的代码，代码更容易样式化。</p>
<p>第四步，添加 <code>&lt;button&gt;</code> 元素，让用户可以在填写完表单后发送他们的数据：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Send your message<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这个 <code>&lt;button&gt;</code> 元素的 type 属性值是 submit，点击按钮，会将表单数据发送到 action 属性定义的位置。</p>
<br>

<p>第五步，添加基本表单样式。现在这个表单是一个简陋没有装饰的表单，我们为它添加一些 CSS 代码进行装饰。</p>
<p>在 HTML 头部中添加一个 <code>&lt;style&gt;</code> 元素。并在样式标签中，添加如下的 CSS：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  <span class="selector-tag">form</span> &#123;</span><br><span class="line">    <span class="comment">/* 居中表单 */</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="comment">/* 显示表单的轮廓 */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#CCC</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">form</span> <span class="selector-tag">li</span> + <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">1em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">label</span> &#123;</span><br><span class="line">    <span class="comment">/* 确保所有label大小相同并正确对齐 */</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">input</span>, <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="comment">/* 确保所有文本输入框字体相同</span></span><br><span class="line"><span class="comment">      textarea默认是等宽字体 */</span></span><br><span class="line">    <span class="attribute">font</span>: <span class="number">1em</span> sans-serif;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 使所有文本输入框大小相同 */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 调整文本输入框的边框样式 */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">input</span><span class="selector-pseudo">:focus</span>, <span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="comment">/* 给激活的元素一点高亮效果 */</span></span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#000</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="comment">/* 使多行文本输入框和它们的label正确对齐 */</span></span><br><span class="line">    <span class="attribute">vertical-align</span>: top;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 给文本留下足够的空间 */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">5em</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.button</span> &#123;</span><br><span class="line">    <span class="comment">/* 把按钮放到和文本输入框一样的位置 */</span></span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">90px</span>; <span class="comment">/* 和label的大小一样 */</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="comment">/* 这个外边距的大小与label和文本输入框之间的间距差不多 */</span></span><br><span class="line">    <span class="attribute">margin-left</span>: .<span class="number">5em</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>效果如图：</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/2.png"></p>
<br>

<p>第六步，发送表单数据。这最后一步，在服务器端处理表单数据也许是最棘手的部分。</p>
<p>虽然 <code>&lt;form&gt;</code> 元素可以通过 action 属性和 method 属性来说明发送数据的位置和方式。但这还不够，我们还需要为我们的数据提供一个 <strong>name 属性</strong>：在浏览器端，它告诉浏览器如何命名数据，在服务器端，它允许服务器按名称处理每个数据块。</p>
<p>为了将数据整合发送，你需要在每个表单小部件上使用 name 属性来收集特定的数据块：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/my-handling-form-page&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Name:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user_name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;mail&quot;</span>&gt;</span>E-mail:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mail&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user_email&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;msg&quot;</span>&gt;</span>Message:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user_message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<p>在这个例子里，表单会发送三个已命名的数据块 user_name，user_email 和 user_message。这些数据将用使用 HTTP POST 方法，把信息发送到 URL 为 “&#x2F;my-handling-form-page” 的目录下。</p>
<p>在服务器端，位于 URL 上的脚本将接收的数据作为 HTTP 请求中包含的3个键&#x2F;值项的列表来处理这些数据。</p>
<br>

<h1 id="表单部件"><a href="#表单部件" class="headerlink" title="表单部件"></a>表单部件</h1><p>本章，我们将详细研究不同表单部件的功能，查看了哪些选项可用于收集不同类型的数据。</p>
<br>

<h2 id="通用属性"><a href="#通用属性" class="headerlink" title="通用属性"></a>通用属性</h2><p>大部分用来定义表单部件的元素都有一些他们自己的属性。然而，在所有表单元素中都有一组通用属性。下面是这些通用属性的列表：</p>
<table>
<thead>
<tr>
<th><strong>属性名称</strong></th>
<th><strong>默认值</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>autofocus</td>
<td>false</td>
<td>指定页面加载时元素是否自动具有输入焦点。文档中只有一个与表单相关的元素可以指定这个属性。</td>
</tr>
<tr>
<td>disabled</td>
<td>false</td>
<td>表示用户能不能与元素交互。如果没有指定这个属性，元素将从包含它的元素继承设置。</td>
</tr>
<tr>
<td>form</td>
<td></td>
<td>小部件与之相关联的表单元素。属性值必需是同个文档中的 <code>&lt;form&gt;</code> 元素的 id 属性。理论上，它允许在 <code>&lt;form&gt;</code> 元素之外设置一个表单部件。然而，在实践中，没有任何支持该特性的浏览器。</td>
</tr>
<tr>
<td>name</td>
<td></td>
<td>元素的名称，这是跟表单数据一起提交的。</td>
</tr>
<tr>
<td>value</td>
<td></td>
<td>元素的初始值。</td>
</tr>
</tbody></table>
<br>

<h2 id="常用表单部件"><a href="#常用表单部件" class="headerlink" title="常用表单部件"></a>常用表单部件</h2><br>

<h3 id="文本输入框"><a href="#文本输入框" class="headerlink" title="文本输入框"></a>文本输入框</h3><p>文本输入框包括 input 元素和 textarea 元素，它们都是纯文本输入控件。其中，文本输入框 <code>&lt;input&gt;</code> 是最基本的表单小部件，可以让用户输入任何类型的数据。</p>
<p>所有文本框都有一些通用规范：</p>
<ul>
<li>readonly 属性：用户能不能修改输入值。</li>
<li>disabled 属性：规定应该禁用 input 元素，被禁用的 input 元素既不可用，也不可点击。</li>
<li>placeholder 属性：文本输入框中出现的文本，可以用来简略描述输入框。</li>
<li>size 属性：框的物理尺寸。</li>
<li>maxlength 属性：可输入的最大字符数。</li>
</ul>
<br>

<p><strong>E-mail 地址框</strong></p>
<p>该类型的框将 type 属性设置为 email 值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">multiple</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当使用 type 时，用户需要在框中输入有效的电子邮件地址；任何其他内容都会导致浏览器在提交表单时显示错误。这是客户端错误验证，由浏览器执行：</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/4.png"></p>
<p>通过 multiple 属性，它可以让用户将多个电子邮件地址输入（以逗号分隔）。</p>
<br>

<p><strong>密码框</strong></p>
<p>通过设置 type 属性值为 password 来设置该类型框：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>它不会为输入的文本添加任何特殊的约束，只会模糊输入到字段中的值，以防被其他人读取。</p>
<p>不过注意，这只是一个用户界面特性，除非安全地提交你的表单，你的密码框数据依旧会以明文发送。保护用户不受此影响的最佳方式是在安全连接（https）上托管任何涉及表单的页面，使得数据在发送之前就已加密。</p>
<br>

<p><strong>搜索框</strong></p>
<p>设置 type 属性值为 search：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;search&quot;</span> <span class="attr">id</span>=<span class="string">&quot;search&quot;</span> <span class="attr">name</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>文本框和搜索框之间的主要区别是浏览器的样式。通常，搜索框是渲染成圆角的，且有可能给定一个 x 来清除输入的值。除此之外，搜索框还有一个值得注意的特性：它们的值可以被自动保存，用来在同一站点上的多个页面上自动补全。</p>
<br>

<p><strong>电话号码栏</strong></p>
<p>设置 type 属性为 tel：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;tel&quot;</span> id=<span class="string">&quot;tel&quot;</span> name=<span class="string">&quot;tel&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>由于世界范围内各种各样的电话号码格式，这种类型的字段不会对用户输入的值执行任何限制，它主要是在语义上的区分。</p>
<br>

<p><strong>URL 栏</strong></p>
<p>通过 type 属性的 url 值设置该类型框：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">id</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>它为字段添加了特殊的验证约束，如果输入无效的 url，浏览器就会报告错误。</p>
<br>

<p><strong>单行文本框</strong></p>
<p>使用 type 属性值被设置为 text（默认值）的 <code>&lt;input&gt;</code> 元素创建一个单行文本框。在你指定的 type 属性的值在浏览器中是未知的情况下，属性值text也是备用值。例如，你指定 type&#x3D;”date”，但是浏览器不支持原生日期选择器。</p>
<p>这是一个基本的单行文本框示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;comment&quot;</span> <span class="attr">name</span>=<span class="string">&quot;comment&quot;</span> <span class="attr">value</span>=<span class="string">&quot;I&#x27;m a text field&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：单行文本框只有一个约束，如果你输入带有换行符的文本，浏览器会在发送数据之前删除这些换行符。</p>
</blockquote>
<br>

<p><strong>多行文本框</strong></p>
<p>多行文本框专指使用 <code>&lt;textarea&gt;</code> 元素，它只接受文本内容，将任何 HTML 内容放入 <code>&lt;textarea&gt;</code> 中都呈现为纯文本内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea cols=<span class="string">&quot;30&quot;</span> rows=<span class="string">&quot;10&quot;</span>&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure>

<p>textarea 和常规的单行文本字段之间的主要区别是，允许用户输入包含硬换行符（即按回车）的文本。</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/5.png"></p>
<p>在大多数浏览器中，文本区域在右下角有一个拖放操作，允许用户调整它的大小。这种调整能力可以通过使用 CSS 设置文本区域的 resize 性质为 none 来关闭。</p>
<p><code>&lt;textarea&gt;</code> 还接受了一些额外的属性，以控制它呈现的效果。主要属性有：</p>
<table>
<thead>
<tr>
<th>属性名</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>cols</td>
<td>20</td>
<td>文本控件的可见宽度，平均字符宽度。</td>
</tr>
<tr>
<td>rows</td>
<td></td>
<td>控制的可见文本行数。</td>
</tr>
<tr>
<td>wrap</td>
<td>soft</td>
<td>表示控件是如何包装文本的。可能的值：hard 或 soft</td>
</tr>
</tbody></table>
<br>

<h3 id="下拉内容"><a href="#下拉内容" class="headerlink" title="下拉内容"></a>下拉内容</h3><p>下拉窗口小部件是一种简单的方法，可以让用户选择众多选项中的一个，而不需要占用用户界面的太多空间。HTML 有两种类型的下拉内容：select box 和 autocomplete box。在这两种情况下，交互都是相同的，一旦控件被激活，浏览器就会显示用户可以选择的值列表。</p>
<br>

<h4 id="选择框"><a href="#选择框" class="headerlink" title="选择框"></a>选择框</h4><p>一个选择框是用 <code>&lt;select&gt;</code> 元素创建的，其中有一个或多个 <code>&lt;option&gt;</code> 元素作为子元素，每个元素都指定了其中一个可能的值。</p>
<br>

<p><strong>单选选择框</strong></p>
<p>默认情况下，<code>&lt;select&gt;</code> 元素创建一个单选选择框。例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;simple&quot;</span> <span class="attr">name</span>=<span class="string">&quot;simple&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Cherry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果需要，可以使用 selected 属性在所需的 <code>&lt;option&gt;</code> 元素上设置选择框的默认值，在页面加载时会默认选择该选项。</p>
<p><code>&lt;option&gt;</code> 元素也可以嵌套在 <code>&lt;optgroup&gt;</code> 元素中，以创建视觉关联的组值。即在 <code>&lt;optgroup&gt;</code> 元素中，label 属性值是不可选的：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;groups&quot;</span> <span class="attr">name</span>=<span class="string">&quot;groups&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;fruits&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>&gt;</span>Cherry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optgroup</span> <span class="attr">label</span>=<span class="string">&quot;vegetables&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Carrot<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Eggplant<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Potato<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">optgroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/6.png"></p>
<p>开始标签 <code>&lt;option&gt;</code> 与结束标签 <code>&lt;/option&gt;</code> 之间的内容是浏览器显示在下拉列表中的内容；value 属性中的值才是表单提交时被发送到服务器的值。</p>
<blockquote>
<p>注意：如果没有规定 value 属性，选项的值将设置为 <code>&lt;option&gt;</code> 标签中的内容。</p>
</blockquote>
<br>

<p><strong>多选选择框</strong></p>
<p>默认情况下，选择框只允许用户选择一个值。但是通过将 multiple 属性添加到 <code>&lt;select&gt;</code> 元素，用户可以通过操作系统提供的默认机制来选择几个值——在 Windows，同时按下 Ctrl 并点击多个值。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">multiple</span> <span class="attr">id</span>=<span class="string">&quot;multi&quot;</span> <span class="attr">name</span>=<span class="string">&quot;multi&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Cherry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/7.png"></p>
<p>注意，在多选选择框的情况下，选择框不再显示值为下拉内容——相反，它们都显示在一个列表中。</p>
<br>

<h4 id="自动补全输入框"><a href="#自动补全输入框" class="headerlink" title="自动补全输入框"></a>自动补全输入框</h4><p>你可以使用 <code>&lt;datalist&gt;</code> 元素来为表单小部件提供建议的、自动完成的值，并使用一些 <code>&lt;option&gt;</code> 子元素来指定要显示的值。</p>
<p>除了完成 datalist 元素的内容，你还需要使用表单部件的 list 属性将 datalist 绑定到一个文本框。一旦数据列表与表单部件相关联，数据列表的选项就可以用来自动补全用户输入的文本；通常，它是作为一个下拉框提供给用户的，匹配在输入框中输入了的内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;myFruit&quot;</span>&gt;</span>What&#x27;s your favorite fruit?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myFruit&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myFruit&quot;</span> <span class="attr">list</span>=<span class="string">&quot;mySuggestion&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;mySuggestion&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Apple<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Blackberry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Blueberry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lychee<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Peach<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span>&gt;</span>Pear<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果如下：</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/8.png"></p>
<blockquote>
<p>注意：根据 HTML 规范，list 属性和 <code>&lt;datalist&gt;</code> 元素可以用于任何需要用户输入的部件。但是，除了文本控件外，不同的浏览器在不同的情况下会有不同的表现。因此，除了文本字段以外，要小心使用这个特性。</p>
</blockquote>
<br>

<p><strong>数据列表支持和后备</strong></p>
<p><code>&lt;datalist&gt;</code> 元素是 HTML 表单的最新补充，因此浏览器的支持比我们之前看到的要少一些。它在版本小于10的 IE 中不受支持，同时在版本小于12的 Safari 中不受支持。</p>
<p>为了处理这个问题，这里有一个小技巧，可以为这些浏览器提供一个不错的备用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;myFruit&quot;</span>&gt;</span>What is your favorite fruit? (With fallback)<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myFruit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fruit&quot;</span> <span class="attr">list</span>=<span class="string">&quot;fruitList&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">&quot;fruitList&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;suggestion&quot;</span>&gt;</span>or pick a fruit<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;suggestion&quot;</span> <span class="attr">name</span>=<span class="string">&quot;altFruit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Apple<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Blackberry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Blueberry<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lemon<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Lychee<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Peach<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>Pear<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">datalist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>支持 <code>&lt;datalist&gt;</code> 元素的浏览器将忽略所有不是 <code>&lt;option&gt;</code> 元素的元素，并按照预期工作。另一方面，不支持 <code>&lt;datalist&gt;</code> 元素的浏览器将显示标签和选择框。</p>
<br>

<h3 id="可选中项"><a href="#可选中项" class="headerlink" title="可选中项"></a>可选中项</h3><p>可选中项是可以通过单击它们来更改状态的小部件。有两种可选中项：<strong>复选框</strong>和<strong>单选框</strong>。它们都使用 checked 属性来指示该部件的默认状态：选中或未选中。</p>
<p>注意，这两个部件与其他表单部件不一样：</p>
<ul>
<li>对于大多数表单部件，一旦表单提交，所有具有 name 属性的部件数据都会被发送，即使没有任何值被填。</li>
<li>对于可选中项，只有在勾选时才发送它们的值。如果他们没有被勾选，就不会发送任何东西。</li>
</ul>
<p>你还需要为这些类型的输入提供 value 属性。如果没有提供任何值，则复选框和单选框被赋予一个 on 值。</p>
<br>

<h4 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h4><p>使用 type 属性值为 checkbox 的 <code>&lt;input&gt;</code> 元素来创建一个复选框。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">checked</span> <span class="attr">id</span>=<span class="string">&quot;carrots&quot;</span> <span class="attr">name</span>=<span class="string">&quot;carrots&quot;</span> <span class="attr">value</span>=<span class="string">&quot;carrots&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>包含 checked 属性使复选框在页面加载时自动被选中。</p>
<br>

<h4 id="单选框"><a href="#单选框" class="headerlink" title="单选框"></a>单选框</h4><p>使用 type 属性值为 radio 的 <code>&lt;input&gt;</code> 元素来创建一个单选框。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">checked</span> <span class="attr">id</span>=<span class="string">&quot;soup&quot;</span> <span class="attr">name</span>=<span class="string">&quot;meal&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果单选框的 name 属性是相同的，那么它们将被认为属于同一组的按钮。同一组中只有一个按钮可以被选。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">legend</span>&gt;</span>What is your favorite meal?<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;soup&quot;</span>&gt;</span>Soup<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">checked</span> <span class="attr">id</span>=<span class="string">&quot;soup&quot;</span> <span class="attr">name</span>=<span class="string">&quot;meal&quot;</span> <span class="attr">value</span>=<span class="string">&quot;soup&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;curry&quot;</span>&gt;</span>Curry<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;curry&quot;</span> <span class="attr">name</span>=<span class="string">&quot;meal&quot;</span> <span class="attr">value</span>=<span class="string">&quot;curry&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;pizza&quot;</span>&gt;</span>Pizza<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;pizza&quot;</span> <span class="attr">name</span>=<span class="string">&quot;meal&quot;</span> <span class="attr">value</span>=<span class="string">&quot;pizza&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/9.png"></p>
<br>

<h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><p>使用 <code>&lt;button&gt;</code> 元素或者 <code>&lt;input&gt;</code> 元素来创建一个按钮。在 HTML 表单中，type 属性决定按钮的类型，以下是三种按钮：</p>
<ul>
<li><strong>Submit</strong><br>  将表单数据发送到服务器。对于 <code>&lt;button&gt;</code> 元素，省略 type 属性（或是一个无效的 type 值）的结果就是一个提交按钮。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">    This a <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>submit button<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;This is a submit button&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>Reset</strong><br>  将所有表单小部件重新设置为它们的默认值。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span>&gt;</span></span><br><span class="line">    This a <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>reset button<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;This is a reset button&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>Anonymous</strong>（匿名的）<br>  没有自动生效的按钮，但是可以使用JavaScript代码进行定制。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(&#x27;Hello World!&#x27;)&quot;</span>&gt;</span></span><br><span class="line">    This an <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>anonymous button<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;This is an anonymous button&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>这两种按钮的行为都是一样的。不过，还是有不同的地方：</p>
<ul>
<li>在 <code>&lt;input&gt;</code> 元素中，按钮标签只能是字符数据</li>
<li>在 <code>&lt;button&gt;</code> 元素中，按钮标签可以是 HTML，因此可以相应地进行样式化。</li>
</ul>
<br>

<h2 id="高级表单部件"><a href="#高级表单部件" class="headerlink" title="高级表单部件"></a>高级表单部件</h2><p>在本节中，我们将介绍那些让用户输入独特数据的部件，包括精确的或近似的数字，日期和时间，或颜色等。</p>
<p>在网页上预览高级表单部件（<a target="_blank" rel="noopener" href="https://a-pin.github.io/demo/form-widgets/advanced-example.html">advanced-examples.html</a>）。</p>
<br>

<h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><p>将 <code>&lt;input&gt;</code> 元素的 type 属性设置为 <code>number</code>。这个控件看起来像一个文本框，但是只允许浮点数，并且通常提供一些按钮来增加或减少小部件的值。</p>
<p>也可以：</p>
<ul>
<li>通过设置 min 和 max 属性来约束该值。</li>
<li>通过设置 step 属性来指定增加和减少按钮更改小部件的步进值大小。</li>
</ul>
<p>例子</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">id</span>=<span class="string">&quot;age&quot;</span> <span class="attr">min</span>=<span class="string">&quot;1&quot;</span> <span class="attr">max</span>=<span class="string">&quot;10&quot;</span> <span class="attr">step</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这将创建一个数字小部件，其值被限制为1到10之间的任何值，而其增加和减少按钮的步进值将更改为2。</p>
<br>

<h3 id="滑块"><a href="#滑块" class="headerlink" title="滑块"></a>滑块</h3><p>另一种选择数字的方法是使用滑块。从视觉上讲，滑块没有文本字段准确，因此它们被用来选择一个确切值并不重要的数字。</p>
<p>滑块是通过把 <code>&lt;input&gt;</code> 元素的 type 属性值设置为 range 来创建的。正确配置滑块是很重要的；为了达到这个目的，我们强烈建议您设置 min、max 和 step 属性。</p>
<p>例子</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;beans&quot;</span> <span class="attr">id</span>=<span class="string">&quot;beans&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;500&quot;</span> <span class="attr">step</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这个例子创建了一个滑块，它可能的值在0到500之间，而它的递增&#x2F;递减按钮以+10和-10来改变值。</p>
<p>滑块的一个问题是，它们不提供任何形式的视觉反馈，你没办法了解当前的值。为此，你需要使用 JavaScript 来显示其他的信息。</p>
<p>在本例中，我们添加了一个空的 <code>&lt;span&gt;</code> 元素，其中我们将写入滑块的当前值，并随着更改实时更新它。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;beans&quot;</span>&gt;</span>How many beans can you eat?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;beans&quot;</span> <span class="attr">id</span>=<span class="string">&quot;beans&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;500&quot;</span> <span class="attr">step</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;beancount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以使用一些简单的 JavaScript 实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> beans = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#beans&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> count = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.beancount&#x27;</span>);</span><br><span class="line"></span><br><span class="line">count.<span class="property">textContent</span> = beans.<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line">beans.<span class="property">oninput</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  count.<span class="property">textContent</span> = beans.<span class="property">value</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>首先，将滑块和 span 的引用存储在两个变量里，再把 span 的 textContent 初始化为滑块的当前 value。最后，设置一个 oninput 事件处理程序，以便每次移动范围滑块时，都会将 span textContent 更新为新的输入值。</p>
<br>

<h3 id="日期时间选择器"><a href="#日期时间选择器" class="headerlink" title="日期时间选择器"></a>日期时间选择器</h3><p>对于 web 开发人员来说，收集日期和时间值一直是一场噩梦。HTML5 通过提供一种特殊的控制来处理这种特殊的数据，从而带来了一些增强。</p>
<p>使用 <code>&lt;input&gt;</code> 元素和一个适当的值的 type 属性来创建日期和时间控制，这取决于你是否希望收集日期和时间。</p>
<p><strong>本地时间</strong></p>
<p>创建一个部件来显示和选择一个日期和时间，但是没有任何特定的时区信息。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;datetime-local&quot;</span> <span class="attr">name</span>=<span class="string">&quot;datetime&quot;</span> <span class="attr">id</span>=<span class="string">&quot;datetime&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>日期</strong></p>
<p>创建一个部件来显示和选择一个日期。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myDate&quot;</span> <span class="attr">min</span>=<span class="string">&quot;2013-06-01&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2013-08-31&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myDate&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>时间</strong></p>
<p>创建一个部件来显示和选择一个时间值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;time&quot;</span> <span class="attr">name</span>=<span class="string">&quot;time&quot;</span> <span class="attr">id</span>=<span class="string">&quot;time&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>星期</strong></p>
<p>创建一个小部件来显示并挑选一个星期号和它的年份。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;week&quot;</span> <span class="attr">name</span>=<span class="string">&quot;week&quot;</span> <span class="attr">id</span>=<span class="string">&quot;week&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>月</strong></p>
<p>创建了一个部件来显示和选择一个月。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;month&quot;</span> <span class="attr">name</span>=<span class="string">&quot;month&quot;</span> <span class="attr">id</span>=<span class="string">&quot;month&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>所有日期和时间控制都可以使用 min 和 max 属性来约束。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;myDate&quot;</span>&gt;</span>When are you available this summer?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myDate&quot;</span> <span class="attr">min</span>=<span class="string">&quot;2013-06-01&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2013-08-31&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myDate&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>警告：日期和时间窗口部件仍然很不受支持。目前，Chrome、Edge 和 Opera 都支持它们，但 IE 浏览器没有支持，Firefox 和 Safari 对这些都没有太大的支持。</p>
</blockquote>
<br>

<h3 id="拾色器"><a href="#拾色器" class="headerlink" title="拾色器"></a>拾色器</h3><p>颜色很多表示方式：RGB值、HSL值、关键字等等。在表单中，颜色部件允许用户在文本和可视的方式中选择颜色。</p>
<p>设置 <code>&lt;input&gt;</code> 元素的 type 属性为 color。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意，IE 和 Safari 不支持它，其他主要的浏览器支持它。</p>
<br>

<h2 id="其他部件"><a href="#其他部件" class="headerlink" title="其他部件"></a>其他部件</h2><p>有一些部件，它们非常特殊和有用，不能很容易地分类。</p>
<br>

<h3 id="文件选择器"><a href="#文件选择器" class="headerlink" title="文件选择器"></a>文件选择器</h3><p>HTML 表单能够将文件发送到服务器，文件选择器部件允许用户选择文件发送。</p>
<p>将 <code>&lt;input&gt;</code> 元素的 type 属性设置为 file，来创建一个文件选择器。被接受的文件类型可以使用 accept 属性来约束。此外，如果你想让用户选择多个文件，那么可以通过添加 multiple 属性来实现。</p>
<p>例子</p>
<p>创建一个文件选择器，请求图形图像文件，并允许用户选择多个文件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">accept</span>=<span class="string">&quot;image/*&quot;</span> <span class="attr">multiple</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h3 id="隐藏内容"><a href="#隐藏内容" class="headerlink" title="隐藏内容"></a>隐藏内容</h3><p>有时候，我们用表单发送的数据不想显示给用户。你可以在表单中添加一个不可见的元素 —— 设置 <code>&lt;input&gt;</code> 元素的 type 属性为 hidden。</p>
<p>创建了这个元素，就需要设置它的 name 和 value 属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">id</span>=<span class="string">&quot;timestamp&quot;</span> <span class="attr">name</span>=<span class="string">&quot;timestamp&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1286705410&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h3 id="图像按钮"><a href="#图像按钮" class="headerlink" title="图像按钮"></a>图像按钮</h3><p>图像按钮控件是一个显示为图片的提交按钮，它的样式和 <code>&lt;img&gt;</code> 元素一样，被点击时的行为和提交按钮一样。</p>
<p>设置 <code>&lt;input&gt;</code> 元素的 type 属性值为 image。这个元素支持 <code>&lt;img&gt;</code> 元素的所有属性和其他表单按钮的所有属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pos&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;map.png&quot;</span> <span class="attr">width</span>=<span class="string">&quot;346&quot;</span> <span class="attr">height</span>=<span class="string">&quot;256&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果使用图像按钮来提交表单，这个部件不会提交它的值；相反，提交的是在图像上单击处的 X 坐标和 Y 坐标（相对于图像），坐标被发送为两个键值对：</p>
<ul>
<li>X 值键是 name 属性的值，后面是字符串 “.x”。</li>
<li>Y 值键是 name 属性的值，后面是字符串 “.y”。</li>
</ul>
<p>这是构建“热图”的一种非常方便的方式。</p>
<br>

<h3 id="仪表和进度条"><a href="#仪表和进度条" class="headerlink" title="仪表和进度条"></a>仪表和进度条</h3><p>仪表和进度条是数值的可视化表示。</p>
<br>

<p><strong>进度条</strong></p>
<p>一个进度条表示一个值，它会随着时间的变化而变化到最大的值，这个最大值由 max 属性指定。它可以实现任何需要进度报告的内容，例如下载的总文件的百分比，或者问卷中填写的问题的数量。</p>
<p>使用 <code>&lt;progress&gt;</code> 元素创建进度条，例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;75&quot;</span>&gt;</span>75/100<span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;progress&gt;</code> 元素中的内容是不支持该元素的浏览器的回退，以及辅助技术对其朗读。</p>
<br>

<p><strong>仪表</strong></p>
<p>一个仪表表示一个固定值（条形显示），这个值由一个 min 和一个 max 值所界定。</p>
<p>使用 <code>&lt;meter&gt;</code> 元素创建仪表。它可以实现任何类型的仪表，例如一个显示磁盘上使用的总空间的条，当它开始满时，它会变成红色。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meter</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;75&quot;</span> <span class="attr">low</span>=<span class="string">&quot;33&quot;</span> <span class="attr">high</span>=<span class="string">&quot;66&quot;</span> <span class="attr">optimum</span>=<span class="string">&quot;50&quot;</span>&gt;</span>75<span class="tag">&lt;/<span class="name">meter</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>为了实现仪表的功能，<code>&lt;meter&gt;</code> 需要至少设置 min、max、value、low、high 和 optimum 属性：</p>
<ul>
<li>low 和 high 值范围划分为三个部分：<ul>
<li>较低部分是在 min 和 low 值（包括那些值）之间。</li>
<li>中间部分是在 low 和 high 值之间（不包括那些值）。</li>
<li>较高部分是在 high 和 max 值（包括那些值）之间。</li>
</ul>
</li>
<li>optimum 值定义了 <code>&lt;meter&gt;</code> 元素的最优值：<ul>
<li>如果 optimum 值在较低部分，则较低部分被认为是优先的，中等部分被认为是一般的，而较高部分被认为是最坏的。</li>
<li>如果 optimum 值在中等部分，则较低部分被认为是一般的，中等部分被认为是优先的，而较高部分被认为是一般的。</li>
<li>如果 optimum 值在较高部分，则较低部分被认为是最坏的，中等部分被认为是一般的，而较高部分被认为是优先的。</li>
</ul>
</li>
</ul>
<p>所有实现 <code>&lt;meter&gt;</code> 元素的浏览器都根据值所在的部分来改变米尺的颜色：</p>
<ul>
<li>如果当前值位于该范围的优先部分，则该条是绿色的。</li>
<li>如果当前值位于该范围的平均部分，则该条是黄色的。</li>
<li>如果当前值处于该范围的最坏范围，则该条是红色的。</li>
</ul>
<p>通过设置这些属性值，我们就可以实现显示磁盘空间的条。</p>
<p><code>&lt;meter&gt;</code> 元素中的内容是不支持该元素的浏览器的回退，以及辅助技术对其朗读。</p>
<blockquote>
<p>进度条和仪表在 IE 中没有支持，但是其他浏览器都可以很好的支持它。</p>
</blockquote>
<br>

<h1 id="表单数据校验"><a href="#表单数据校验" class="headerlink" title="表单数据校验"></a>表单数据校验</h1><p>表单校验可以帮助我们确保用户以正确格式填写表单数据，以便应用程序正常工作。</p>
<p>表单校验——当你向 Web 应用输入数据时，应用会验证你输入的数据是否是正确的。如果验证通过，应用允许提交这些数据到服务器并储存到数据库中；如果验证未通过，Web 应用会提示你有错误的数据，并且一般都会明确的告诉你错误发生在哪里。</p>
<p>进行表单数据校验有三个最主要的原因：</p>
<ul>
<li>以正确的格式获取到正确的数据 —— 如果用户没有输入正确的信息，web 应用程序将无法正常运行。</li>
<li>保护用户 —— 强制用户输入安全的密码，有利于保护他们的账户信息。</li>
<li>保护自己 —— 恶意用户有很多通过滥用应用中缺乏保护的表单破坏应用的方法。</li>
</ul>
<br>

<p><strong>不同类型的表单数据校验</strong></p>
<p>在 Web 中，你可能会遇见各种不同的表单校验：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/Forms/Form_validation#%E4%BD%BF%E7%94%A8%E5%86%85%E7%BD%AE%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><strong>客户端校验</strong></a>发生在浏览器端，表单数据被提交到服务器之前，这种方式相较于服务器端校验来说，用户体验更好，它能实时的反馈用户的输入校验结果，这种类型的校验可以进一步细分成下面这些方式：<ul>
<li>JavaScript 校验，这是可以完全自定义的实现方式；</li>
<li>HTML5 内置校验，这不需要 JavaScript，而且性能更好，但是不能像 JavaScript 那样可自定义。</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/Forms/Form_validation#%E4%BD%BF%E7%94%A8_javascript%E6%A0%A1%E9%AA%8C%E8%A1%A8%E5%8D%95"><strong>服务器端校验</strong></a>通常发生在数据被服务器端接受之后，写入数据库之前。服务器端在整个表单都提交后才会返回错误信息。服务器端校验是你的应用对抗恶意数据的最后防线，在这之后，数据将被持久化至数据库。</li>
</ul>
<p>在真实的项目开发过程中，开发者一般都倾向于使用客户端校验与服务器端校验的组合校验方式以更好的保证数据的正确性与安全性。</p>
<p>由于设计和实现表单数据检验不是我学习的重点，需要可以点击链接前往 mozzila 文档查看学习。</p>
<br>

<h1 id="发送表单数据"><a href="#发送表单数据" class="headerlink" title="发送表单数据"></a>发送表单数据</h1><br>

<h2 id="原理介绍"><a href="#原理介绍" class="headerlink" title="原理介绍"></a>原理介绍</h2><br>

<h3 id="客户端-x2F-服务器体系结构"><a href="#客户端-x2F-服务器体系结构" class="headerlink" title="客户端&#x2F;服务器体系结构"></a>客户端&#x2F;服务器体系结构</h3><p>web 基于非常基本的客户端&#x2F;服务器体系结构，可以总结如下：客户端使用 HTTP 协议向服务器发送请求（大多数情况下是 Apache、Nginx、IIS、Tomcat 等 web 服务器），服务器使用相同的协议来回答请求。</p>
<br>

<h3 id="客户端：发送数据"><a href="#客户端：发送数据" class="headerlink" title="客户端：发送数据"></a>客户端：发送数据</h3><p><code>&lt;form&gt;</code> 元素定义了如何发送数据。它的所有属性都是为了让您配置当用户点击提交按钮时发送的请求。两个最重要的属性是 action 和 method。</p>
<br>

<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p><strong><code>action</code> 属性</strong><br>这个属性定义了发送数据要去的位置。它的值必须是一个有效的 URL。如果没有提供此属性，则数据将被发送到包含这个表单的页面的 URL。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://foo.com&quot;</span>&gt;</span>  <span class="comment">&lt;!-- 绝对 URL --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/somewhere_else&quot;</span>&gt;</span>  <span class="comment">&lt;!-- 相对 URL --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span>  <span class="comment">&lt;!-- 数据被发送到表单出现的相同页面上 --&gt;</span></span><br></pre></td></tr></table></figure>

<p>HTML5 普及之前，许多较老的页面使用下面的符号表示数据应该被发送到包含表单的相同页面：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：表单的 action 属性可以指定为使用 HTTPS（安全HTTP）协议的 URL，表单数据将与请求的其余部分一起被加密，即使表单本身是托管在使用 HTTP 访问的不安全页面上；如果表单是在安全页面上托管的，但是你指定了一个不安全的 HTTP URL，所有的浏览器都会在每次尝试发送数据时向用户显示一个安全警告。</p>
</blockquote>
<br>

<p><strong><code>method</code> 属性</strong><br>该属性定义了如何发送数据。HTTP 协议提供了几种执行请求的方法，最常见的是GET方法和POST方法。</p>
<p>HTTP 请求由两个部分组成：一个包含关于浏览器功能的全局元数据集的头部，和一个包含服务器处理请求所需信息的主体。</p>
<br>

<h4 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h4><p><strong>GET 方法</strong></p>
<p>GET 方法请求服务器返回给定的资源。当你使用 GET 方法发送数据时，浏览器会发送一个空的主体。且由于主体是空的，发送到服务器的数据将被追加到 URL。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://foo.com&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;say&quot;</span>&gt;</span>What greeting do you want to say?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;say&quot;</span> <span class="attr">id</span>=<span class="string">&quot;say&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Hi&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;to&quot;</span>&gt;</span>Who do you want to say it to?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;to&quot;</span> <span class="attr">id</span>=<span class="string">&quot;to&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Mom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>Send my greetings<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>由于已经使用了 GET 方法，当你提交表单的时候，你将看到 <code>www.foo.com/?say=Hi&amp;to=Mom</code> 显示在在浏览器地址栏里。</p>
<p>数据作为一系列的名称&#x2F;值对被附加到 URL：在目标 URL 后添加一个问号，后面跟着由与符号（&amp;）互相分隔开的名称&#x2F;值对。</p>
<p>在本例中，我们将两个数据传递给服务器：</p>
<ul>
<li>say：值为 Hi。</li>
<li>to：值为 Mom。</li>
</ul>
<p>HTTP请求如下：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /?say=Hi&amp;to=Mom HTTP/2.0</span><br><span class="line">Host: foo.com</span><br></pre></td></tr></table></figure>

<br>

<p><strong>POST 方法</strong></p>
<p>POST 方法是浏览器在询问响应时使用，与服务器通信的方法。如果使用该方法发送表单，数据将被追加到 HTTP 请求的主体中。</p>
<p>将 method 属性设置为 post：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://foo.com&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;say&quot;</span>&gt;</span>What greeting do you want to say?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;say&quot;</span> <span class="attr">id</span>=<span class="string">&quot;say&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Hi&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;to&quot;</span>&gt;</span>Who do you want to say it to?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;to&quot;</span> <span class="attr">id</span>=<span class="string">&quot;to&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Mom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>Send my greetings<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当使用 POST 方法提交表单时，没有数据会附加到 URL。</p>
<p>HTTP 请求头：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST / HTTP/2.0</span><br><span class="line">Host: foo.com</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 13</span><br></pre></td></tr></table></figure>

<p>请求主体中包含的数据：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">say=Hi&amp;to=Mom</span><br></pre></td></tr></table></figure>

<p>Content-Length 数据头表示主体的大小，Content-Type 数据头表示发送到服务器的资源类型。</p>
<br>

<p><strong>总结</strong></p>
<p>HTTP 请求最初设定了八种方法。这八种方法本质上没有任何区别。只是让请求，更加有语义而已，就好比汤勺就是喝汤用的，但是你用它炒菜也是可以的，只是有点别扭。</p>
<ul>
<li><strong>OPTIONS</strong>：返回服务器所支持的请求方法</li>
<li><strong>GET</strong>：向服务器获取指定资源</li>
<li><strong>HEAD</strong>：与 GET 一致，只不过响应体不返回，只返回响应头</li>
<li><strong>POST</strong>：向服务器提交数据，数据放在请求体里</li>
<li><strong>PUT</strong>：与 POST 相似，只是具有幂等特性，一般用于更新</li>
<li><strong>DELETE</strong>：删除服务器指定资源</li>
<li><strong>TRACE</strong>：回显服务器端收到的请求，测试的时候会用到这个</li>
<li><strong>CONNECT</strong>：预留，暂无使用</li>
</ul>
<p>GET 用于获取信息，是无副作用的，是幂等的，且可缓存；而 POST 用于修改服务器上的数据，有副作用，非幂等，不可缓存。</p>
<p>使用 GET 请求，用户将在 URL 栏中看到数据；使用 POST 请求，用户将不会看到。这一点很重要，有两个原因：</p>
<ul>
<li>如果你需要发送敏感数据，不要使用 GET 方法。你的数据会在 URL 栏中显示，这非常不安全。</li>
<li>如果你需要发送大量的数据，那么 POST 方法是首选的，因为一些浏览器或服务器限制了 URL 的大小。</li>
</ul>
<br>

<h3 id="服务器端：检索数据"><a href="#服务器端：检索数据" class="headerlink" title="服务器端：检索数据"></a>服务器端：检索数据</h3><p>无论选择哪种 HTTP 方法，服务器都会接收一个字符串并解析，将数据作为键值对序列处理。</p>
<p>你访问这个序列的方式取决于你使用的开发平台以及你可能使用的任何特定框架。你使用的技术也决定了如何处理密钥副本；通常，最近收到的密钥的值是优先的。</p>
<br>

<h4 id="原始-PHP"><a href="#原始-PHP" class="headerlink" title="原始 PHP"></a>原始 PHP</h4><p>PHP 提供了一些全局对象来访问数据，你可以使用 php 根据需要对数据进行处理，显示数据、存储数据、发送数据等。</p>
<p>例如，表单的 <code>method=&quot;post&quot; action=&quot;php-example.php&quot;</code>，获取数据并将其显示给用户。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  <span class="comment">// 全局变量 $_POST 允许你通过名称来访问用 POST 方法发送的数据</span></span><br><span class="line">  <span class="comment">// 要访问用 GET 方法发送的数据，你可以使用 $_GET 变量</span></span><br><span class="line">  <span class="variable">$say</span> = <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;say&#x27;</span>]);</span><br><span class="line">  <span class="variable">$to</span>  = <span class="title function_ invoke__">htmlspecialchars</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;to&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">echo</span>  <span class="variable">$say</span>, <span class="string">&#x27; &#x27;</span>, <span class="variable">$to</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>当提交表单时，它将表单数据发送到 php-example.php，其中包含了上述代码块中所见的 php 代码。当执行此代码时，浏览器中的输出 Hi Mom。</p>
<p><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/10.png"></p>
<blockquote>
<p>注意：浏览器无法解析 PHP 代码，因此当提交表单时，浏览器只会为你提供下载 PHP 文件。为了让它生效，你需要通过某种类型的 PHP 服务器运行这个示例，例如 MAMP（Apache, MySQL, PHP）。</p>
</blockquote>
<br>

<h4 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h4><p>使用 Python 在 web 页面上显示提交的数据。为此，使用 Flask framework 来呈现模板、处理表单数据提交等。</p>
<p>什么是模板？模板简单来说就是一个其中包涵占位变量表示动态的部分的文件，模板文件在经过动态赋值后，返回给用户（可以理解为渲染）。</p>
<p>web 服务器的 python 代码如下：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">form</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;form.html&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/hello&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;greeting.html&#x27;</span>, say=request.form[<span class="string">&#x27;say&#x27;</span>], to=request.form[<span class="string">&#x27;to&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>

<p>以上代码中引用的两个模板如下：</p>
<ul>
<li>form.html：与上文 php 示例相同的表单，只是将 action 设置为 <code>&#123;&#123; url_for('hello') &#125;&#125;</code>。它是一个 Jinja2 模板，它基本上是 HTML，但是可以包含对 Python 代码（花括号内）的调用。<code>url_for(&#39;hello&#39;)</code> 的意思是“提交表单时重定向到 &#x2F;hello”。</li>
<li>greeting.html：这个模板只包含一行，用于呈现渲染时传递给它的两个数据块。<br>这是通过前面所见的 <code>hello()</code> 函数完成的，该函数在 URL 被导向时运行。</li>
</ul>
<blockquote>
<p>注意：Python 的工作方式与 PHP 略有不同（在本地运行），你需要创建 flask 应用项目编写代码并运行，在浏览器 URL 栏中输入 localhost:5000 显示网页。<br><img src="/2021/02/18/Web%E8%A1%A8%E5%8D%95%E6%A0%B8%E5%BF%83/11.png"></p>
</blockquote>
<br>

<h4 id="其他语言和框架"><a href="#其他语言和框架" class="headerlink" title="其他语言和框架"></a>其他语言和框架</h4><p>还有许多其他的服务器端技术可以用于表单处理，包括 Perl、Java、.Net、Ruby 等。不过，直接使用这些技术并不常见，更常见的是使用许多优秀的框架，这些框架使处理表单变得更容易，例如：</p>
<ul>
<li>Django for Python （比Flask要重量级一些，但是有更多的工具和选项。）</li>
<li>Express for Node.js</li>
<li>Laravel for PHP</li>
<li>Ruby On Rails for Ruby</li>
<li>Phoenix for Elixir</li>
</ul>
<p>就算使用了这些框架，表单处理也不一定很容易。但这比从头开始编写所有功能要简单得多，会节省很多时间。</p>
<br>

<h2 id="特殊案例-发送文件"><a href="#特殊案例-发送文件" class="headerlink" title="特殊案例:发送文件"></a>特殊案例:发送文件</h2><p>用 HTML 表单发送文件是一个特殊的例子。文件是二进制数据而所有其他数据都是文本数据。由于 HTTP 是一种文本协议，所以处理二进制数据有特殊的要求。</p>
<h3 id="enctype-属性"><a href="#enctype-属性" class="headerlink" title="enctype 属性"></a>enctype 属性</h3><p>该属性允许你指定在提交表单时所生成的请求中的 <code>Content-Type</code> 的 HTTP 数据头的值。这个数据头非常重要，因为它告诉服务器正在发送什么样的数据。默认情况下，它的值是 <code>application/x-www-form-urlencoded</code>。它的意思是：“这是已编码为 URL 参数的表单数据”。</p>
<p>如果你想要发送文件，你需要额外的三个步骤：</p>
<ul>
<li>将 method 属性设置为 POST，因为文件内容不能放入 URL 参数中。</li>
<li>将 enctype 属性设置为 multipart&#x2F;form-data，因为数据将被分成多个部分，每个文件单独占用一个部分，表单正文中包含的文本数据（如果文本也输入到表单中）也占用一个部分。</li>
<li>包含一个或多个文件选择器（File picker）部件，允许用户选择将要上传的文件。</li>
</ul>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;file&quot;</span>&gt;</span>Choose a file<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myFile&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>Send the file<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：服务器如何处理这些文件取决于服务器上使用的技术。</p>
<br>

<h2 id="常见的安全问题"><a href="#常见的安全问题" class="headerlink" title="常见的安全问题"></a>常见的安全问题</h2><p>每次向服务器发送数据时，都需要考虑安全性。到目前为止，HTML 表单是最常见的攻击路径。这些问题从来都不是来自 HTML 表单本身，它们来自于服务器如何处理数据。</p>
<p>根据你所做的事情，你会遇到一些非常有名的安全问题：</p>
<h3 id="XSS-和-CSRF"><a href="#XSS-和-CSRF" class="headerlink" title="XSS 和 CSRF"></a>XSS 和 CSRF</h3><p>跨站脚本（XSS）和跨站点请求伪造（CSRF）是常见的攻击类型，它们发生在当你将用户发送的数据显示给这个用户或另一个用户时。</p>
<p>XSS 允许攻击者将客户端脚本注入到其他用户查看的 Web 页面中。攻击者可以使用跨站点脚本攻击的漏洞来绕过诸如同源策略之类的访问控制。这些攻击的影响可能从一个小麻烦到一个重大的安全风险。</p>
<p>CSRF 攻击类似于 XSS 攻击，因为它们以相同的方式开始攻击——向 Web 页面中注入客户端脚本——但它们的目标是不同的。CSRF 攻击者试图将权限升级到特权用户（比如站点管理员）的级别，以执行他们不应该执行的操作（例如，将数据发送给一个不受信任的用户）。</p>
<p>XSS 攻击利用用户对 web 站点的信任，而 CSRF 攻击则利用网站对其用户的信任。</p>
<p>为了防止这些攻击，你应该始终检查用户发送给服务器的数据，尽量不要显示用户提供的 HTML 内容。相反，你应该对用户提供的数据进行处理，这样你就不会逐字地显示它。当今市场上几乎所有的框架都实现了一个最小的过滤器，它可以从任何用户发送的数据中删除 HTML 的 <code>&lt;script&gt;</code>、<code>&lt;iframe&gt;</code> 和 <code>&lt;object&gt;</code> 元素。这有助于降低风险，但并不一定会消除风险。</p>
<br>

<h3 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h3><p>SQL 注入是一种试图在目标 web 站点使用的数据库上执行操作的攻击类型。这通常包括发送一个 SQL 请求，希望服务器能够执行它（通常发生在应用服务器试图存储由用户发送的数据时）。这实际上是攻击网站的主要途径之一。 </p>
<p>其后果可能是可怕的，从数据丢失到通过使用特权升级控制整个网站基础设施的攻击。这是一个非常严重的威胁，你应该在存储用户数据前执行一些清理工作。例如，在 php&#x2F;mysql 基础设施上使用 <code>mysql_real_escape_string()</code>。</p>
<br>

<h3 id="偏执-永远不要相信你的用户"><a href="#偏执-永远不要相信你的用户" class="headerlink" title="偏执:永远不要相信你的用户"></a>偏执:永远不要相信你的用户</h3><p>你如何应对这些威胁呢?最重要的原则是：永远不要相信你的用户，包括你自己，即使是一个值得信赖的用户也可能被劫持。</p>
<p>所有到达服务器的数据都必须经过检查和消毒，没有例外。</p>
<ul>
<li>远离有潜在危险的字符转义。能不能使用特定字符取决于所使用的数据上下文和所使用的服务器平台。</li>
<li>限制输入的数据量，只允许有必要的数据。</li>
<li>沙箱上传文件（将它们存储在不同的服务器上，只允许通过不同的子域访问文件，或者通过完全不同的域名访问文件更好）。</li>
</ul>
<br>

<blockquote>
<p>总结：发送表单数据容易，但要确保应用程序的安全很难。一帮情况下，前端开发人员不需要定义数据安全模型。即使前端执行客户端数据验证是可以的，但是服务器不能信任这种验证，因为它无法真正知道客户端到底发生了什么。</p>
</blockquote>
<br>


      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/web前端/">web前端</a>, <a href="/categories/web前端/mdn/">mdn</a>, <a href="/categories/web前端/mdn/Web表单/">Web表单</a>
    </span>
    

    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Deployed by <a href="https://github.com/kaedea/notion-down" target="_blank">notion-down</a> and
    Theme by <a href="https://github.com/kaedea/hexo-theme-hacker" target="_blank">hexo-theme-hacker</a>
    </br>
    
    &copy; 2023 a-pin
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>